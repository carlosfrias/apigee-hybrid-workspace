---
- name: Create GKE cluster
  import_playbook: "{{ playbook_dir | dirname }}/15-create-apigee-gke-cluster/converge.yml"

- name: Install Cert Manager
  import_playbook: "{{ playbook_dir | dirname }}/16-install-cert-manager/converge.yml"

- name: Enable Synchronizer
  import_playbook: "{{ playbook_dir | dirname }}/17-enable-synchronizer/converge.yml"

- name: Enable Apigee Connect
  import_playbook: "{{ playbook_dir | dirname }}/18-enable-apigee-connect/converge.yml"

- name: Install ASM
  import_playbook: "{{ playbook_dir | dirname }}/19-install-asm/converge.yml"

- name: Assert Cluster Ready Check
  import_playbook: "{{ playbook_dir | dirname }}/20-apigee-cluster-ready-check/converge.yml"

- name: Apigee runtime config
  import_playbook: "{{ playbook_dir | dirname }}/21-configure-apigee-runtime/converge.yml"

- name: Apigee runtime init
  import_playbook: "{{ playbook_dir | dirname }}/22-apigee-runtime-init/converge.yml"

- name: Apigee runtime apply
  import_playbook: "{{ playbook_dir | dirname }}/23-apigee-runtime-apply/converge.yml"

- name: Apigee runtime checkready
  import_playbook: "{{ playbook_dir | dirname }}/24-apigee-runtime-checkready/converge.yml"
