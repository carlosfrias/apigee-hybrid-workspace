---
#- name: Create GKE cluster
#  import_playbook: "{{ playbook_dir | dirname }}/apigee-gke-cluster-create/converge.yml"
#
#- name: Load Apigee Cluster Credentials
#  import_playbook: "{{ playbook_dir | dirname }}/kubectl-cluster-config/converge.yml"
#
#- name: Install Helm
#  import_playbook: "{{ playbook_dir | dirname }}/helm-install/converge.yml"
#
#- name: Download Helm Charts
#  import_playbook: "{{ playbook_dir | dirname }}/helm-download-charts/converge.yml"
#
#- name: Install Cert Manager
#  import_playbook: "{{ playbook_dir | dirname }}/kubectl-cert-manager-install/converge.yml"
#
#- name: Enable Synchronizer
#  import_playbook: "{{ playbook_dir | dirname }}/apigee-uri-synchronizer-enable/converge.yml"
#
#- name: Assert apigee namespace
#  import_playbook: "{{ playbook_dir | dirname }}/kubectl-apigee-namespace/converge.yml"
#
#- name: Create apigee-non-prod service account
#  import_playbook: "{{ playbook_dir | dirname }}/helm-apigee-service-account-create-apigee-non-prod/converge.yml"
#
#- name: Update TlS cert locations
#  import_playbook: "{{ playbook_dir | dirname }}/helm-tls-certs-create/converge.yml"

- name: Obtain External IP Address
  import_playbook: "{{ playbook_dir | dirname }}/gcp-obtain-external-ip-address/converge.yml"

- name: Apigee runtime config
  import_playbook: "{{ playbook_dir | dirname }}/apigeectl-configure-runtime/converge.yml"

#- name: Enable Apigee Connect
#  import_playbook: "{{ playbook_dir | dirname }}/apigeectl-connect-enable/converge.yml"
#
#- name: Assert Cluster Ready Check
#  import_playbook: "{{ playbook_dir | dirname }}/apigeectl-cluster-ready-check/converge.yml"
#
#- name: Obtain External IP Address
#  import_playbook: "{{ playbook_dir | dirname }}/gcp-obtain-external-ip-address/converge.yml"
#
#- name: Apigee runtime config
#  import_playbook: "{{ playbook_dir | dirname }}/apigeectl-configure-runtime/converge.yml"
#
#- name: Apigee runtime init
#  import_playbook: "{{ playbook_dir | dirname }}/apigeectl-runtime-init/converge.yml"
#
#- name: Apigee runtime apply
#  import_playbook: "{{ playbook_dir | dirname }}/apigeectl-runtime-apply/converge.yml"
#
#- name: Apigee runtime checkready
#  import_playbook: "{{ playbook_dir | dirname }}/apigeectl-runtime-checkready/converge.yml"
