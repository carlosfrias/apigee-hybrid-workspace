---
- name: Provision project
  import_playbook: "{{ playbook_dir | dirname }}/01-provision-project/converge.yml"

- name: Update organization policies
  import_playbook: "{{ playbook_dir | dirname }}/02-config-org-policies/converge.yml"

- name: Update services api
  import_playbook: "{{ playbook_dir | dirname }}/03-enable-apis/converge.yml"

- name: Create service accounts
  import_playbook: "{{ playbook_dir | dirname }}/04-create-service-account/converge.yml"

- name: Create service account keys
  import_playbook: "{{ playbook_dir | dirname }}/05-create-service-account-keys/converge.yml"

- name: Update service account permissions
  import_playbook: "{{ playbook_dir | dirname }}/06-create-service-account-permissions/converge.yml"

- name: Create network
  import_playbook: "{{ playbook_dir | dirname }}/07-create-network/converge.yml"

- name: Create external ip address
  import_playbook: "{{ playbook_dir | dirname }}/08-create-external-ip-address/converge.yml"

- name: Create DNS record
  import_playbook: "{{ playbook_dir | dirname }}/09-create-dns-record/converge.yml"

- name: Install apigeectl
  import_playbook: "{{ playbook_dir | dirname }}/10-install-apigeectl-binary/converge.yml"

- name: Service Account Activate
  import_playbook: "{{ playbook_dir | dirname }}/service-account-activate/converge.yml"

- name: Create apigee service accounts
  import_playbook: "{{ playbook_dir | dirname }}/11-create-apigee-service-account/converge.yml"

- name: Create TLS certs
  import_playbook: "{{ playbook_dir | dirname }}/12-create-tls-certs/converge.yml"

- name: Create an Apigee organization
  import_playbook: "{{ playbook_dir | dirname }}/13-create-apigee-organization/converge.yml"

- name: Create an Apigee environment group
  import_playbook: "{{ playbook_dir | dirname }}/14-create-apigee-environment-group/converge.yml"
