---
- name: Provision project
  import_playbook: "{{ playbook_dir | dirname }}/00-provision-project/converge.yml"

- name: Update organization policies
  import_playbook: "{{ playbook_dir | dirname }}/01-config-org-policies/converge.yml"

- name: Update services api
  import_playbook: "{{ playbook_dir | dirname }}/02-enable-apis/converge.yml"

- name: Create service accounts
  import_playbook: "{{ playbook_dir | dirname }}/03-create-service-account/converge.yml"

- name: Create service account keys
  import_playbook: "{{ playbook_dir | dirname }}/04-create-service-account-keys/converge.yml"

- name: Update service account permissions
  import_playbook: "{{ playbook_dir | dirname }}/05-create-service-account-permissions/converge.yml"

- name: Create an organization
  import_playbook: "{{ playbook_dir | dirname }}/06-create-an-organization/converge.yml"

- name: Create an environment group
  import_playbook: "{{ playbook_dir | dirname }}/07-create-an-environment-group/converge.yml"

#- name: Create GKE cluster
#  import_playbook: "{{ playbook_dir | dirname }}/08-create-a-cluster/converge.yml"

- name: Install Apigee runtime
  import_playbook: "{{ playbook_dir | dirname }}/09-hybrid-single-region/converge.yml"
