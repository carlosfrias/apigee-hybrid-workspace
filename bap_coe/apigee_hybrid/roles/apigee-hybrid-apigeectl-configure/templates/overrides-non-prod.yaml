---
instanceID: "{{ PROJECT_ID }}-{{ PROJECT_NUMBER }}"
namepace: "apigee"

gcp:
  region: "{{ ANALYTICS_REGION }}"
  projectID: "{{ PROJECT_ID }}"
k8sCluster:
  name: "{{ CLUSTER_NAME }}"
  region: "{{ CLUSTER_REGION }}"

org: "{{ PROJECT_ID }}"

cassandra:
  hostNetwork: {{ CASSANDRA_HOST_NETWORK }}
  replicaCount: {{ CASSANDRA_REPLICA_COUNT | int }}

virtualhosts:
- name: "{{ ENVIRONMENT_GROUP_NAME }}"
  selector:
    app: apigee-ingressgateway
    ingress_name: "{{ INGRESS_GATEWAY_NAME }}"
  sslCertPath: "{{ SSL_CERT_PATH }}"
  sslKeyPath: "{{ SSL_KEY_PATH }}"

ao:
  args:
    disableIstioConfigInAPIserver: {{ DISABLE_ISTIO_CONFIG_IN_API_SERVER }}

ingressGateways:
- name: "{{ INGRESS_GATEWAY_NAME }}"
  replicaCountMin: {{ INGRESS_GATEWAYS_REPLICA_COUNT_MIN }}
  replicateCountMax: {{ INGRESS_GATEWAYS_REPLICA_COUNT_MAX }}
  svcLoadBalancerIP: {{ EXTERNAL_IP }}
  svcType: ClusterIP

envs:
- name: "{{ ENVIRONMENT_NAME }}"
  serviceAccountPaths:
    synchronizer: "{{ SERVICE_ACCOUNT_PATH_SYNCHRONIZER }}"
    udca: "{{ SERVICE_ACCOUNT_PATH_UDCA }}"
    runtime: "{{ SERVICE_ACCOUNT_PATH_RUNTIME }}"

mart:
  serviceAccountPath: "{{ SERVICE_ACCOUNT_PATH_MART }}"

connectAgent:
  serviceAccountPath: "{{ SERVICE_ACCOUNT_PATH_CONNECT_AGENT }}"

metrics:
  serviceAccountPath: "{{ SERVICE_ACCOUNT_PATH_METRICS }}"

udca:
  serviceAccountPath: "{{ SERVICE_ACCOUNT_PATH_UDCA }}"

watcher:
  serviceAccountPath: "{{ SERVICE_ACCOUNT_PATH_WATCHER }}"

logger:
  enabled: {{ APIGEE_HYBRID_LOGGER_ENABLED }}
  serviceAccountPath: "{{ SERVICE_ACCOUNT_PATH_LOGGER }}"

nodeSelector:
  requiredForScheduling: false
  apigeeRuntime:
    key: "cloud.google.com/gke-nodepool"
    value: "apigee-runtime"
  apigeeData:
    key: "cloud.google.com/gke-nodepool"
    value: "apigee-data"