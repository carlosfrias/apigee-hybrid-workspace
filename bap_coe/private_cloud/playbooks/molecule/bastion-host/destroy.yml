---
- name: Delete Project & Infrastructure
  hosts: localhost
  connection: local
  gather_facts: false

  vars_files:
    - ~/.apigee-secure/apigee-hybrid-sensitive-attributes.yml
    - "{{ playbook_dir | dirname }}/shared/attributes.yml"

  vars:
    FIREWALL_NAME_SUFFIX: "bastion"
    bastion_host_name: bastion-1

  collections:
    - bap_coe.gcp_management
    - bap_coe.bastion_host

  roles:
  - { role: service_account_file_path }
  - { role: service_account_file_processing }
  - { role: gce_bastion_host_delete }
  - { role: gce_bastion_host_ssh_config_remove }

