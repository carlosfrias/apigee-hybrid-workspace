---
- name: Obtain server self report
  uri:
    url: http://localhost:{{ server_port }}/v1/servers/self
    url_username: '{{ opdk_user_email }}'
    url_password: '{{ opdk_user_pass }}'
  register: self

- name: Convert type
  set_fact:
    converted_self: "{{ self.content }}"

- name: Show self
  debug:
    msg: "{{ converted_self }}"

- pause:

- name: Construct self report variable name
  set_fact:
    cacheable: yes
    server_uuid: '{{ self.json }}'
