---
- name: Create overrides config file
  import_playbook: "{{ playbook_dir | dirname }}/create-overrides-config/converge.yml"

- name: Update Apigee hybrid resources for helm chart folders
  import_playbook: "{{ playbook_dir | dirname }}/helm-chart-folder-config-updates/converge.yml"

- name: Create overrides config file
  import_playbook: "{{ playbook_dir | dirname }}/cert-manager-install/converge.yml"

- name: Install CRDs
  import_playbook: "{{ playbook_dir | dirname }}/helm-apigee-operator-crds/converge.yml"

- name: Install Operator chart
  import_playbook: "{{ playbook_dir | dirname }}/helm-apigee-operator/converge.yml"

- name: Install Datastore chart
  import_playbook: "{{ playbook_dir | dirname }}/helm-apigee-datastore/converge.yml"

- name: Install Telemetry
  import_playbook: "{{ playbook_dir | dirname }}/helm-apigee-telemetry/converge.yml"

- name: Install Redis
  import_playbook: "{{ playbook_dir | dirname }}/helm-apigee-redis/converge.yml"

- name: Install Ingress Manager
  import_playbook: "{{ playbook_dir | dirname }}/helm-apigee-ingress-manager/converge.yml"

- name: Install Organization
  import_playbook: "{{ playbook_dir | dirname }}/helm-apigee-org/converge.yml"

- name: Install Environment
  import_playbook: "{{ playbook_dir | dirname }}/helm-apigee-env/converge.yml"

- name: Configure Virtualhost
  import_playbook: "{{ playbook_dir | dirname }}/helm-apigee-virtualhost/converge.yml"
