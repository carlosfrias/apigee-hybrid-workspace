---
- name: Configure Apigee Hybrid Project
  import_playbook: "{{ playbook_dir | dirname }}/create-project/converge.yml"

- name: Configure GCP Org Policies
  import_playbook: "{{ playbook_dir | dirname }}/01-config-org-policies/converge.yml"

- name: Create Apigee Hybrid Project Service Account
  import_playbook: "{{ playbook_dir | dirname }}/03-create-service-account/converge.yml"

- name: Configure Apigee Hybrid Project Service Account Permissions
  import_playbook: "{{ playbook_dir | dirname }}/03-05-create-service-account-permissions/converge.yml"

- name: Download Apigee Hybrid Project Service Account Keys
  import_playbook: "{{ playbook_dir | dirname }}/03-04-create-service-account-keys/converge.yml"

- name: Download Apigee Hybrid Project Service Account Keys
  import_playbook: "{{ playbook_dir | dirname }}/02-enable-apis/converge.yml"

- name: Configure Apigee GKE Cluster
  import_playbook: "{{ playbook_dir | dirname }}/create-gke-cluster/converge.yml"

- name: Install helm
  import_playbook: "{{ playbook_dir | dirname }}/install-helm/converge.yml"

- name: Download Apigee Hybrid helm charts
  import_playbook: "{{ playbook_dir | dirname }}/download-helm-charts/converge.yml"

#- name: Configure Apigee Operator
#  import_playbook: "{{ playbook_dir | dirname }}/apigee-operator/converge.yml"
#
#- name: Configure Apigee Datastore
#  import_playbook: "{{ playbook_dir | dirname }}/apigee-datastore/converge.yml"
#
#- name: Configure Apigee Telemetry
#  import_playbook: "{{ playbook_dir | dirname }}/apigee-telemetry/converge.yml"
#
#- name: Configure Apigee Redis
#  import_playbook: "{{ playbook_dir | dirname }}/apigee-redis/converge.yml"
#
#- name: Configure Apigee Org
#  import_playbook: "{{ playbook_dir | dirname }}/apigee-org/converge.yml"
#
#- name: Configure Apigee Env
#  import_playbook: "{{ playbook_dir | dirname }}/apigee-env/converge.yml"
#
#- name: Configure Apigee Virtualhost
#  import_playbook: "{{ playbook_dir | dirname }}/apigee-virtualhost/converge.yml"

